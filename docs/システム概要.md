# ScalarDB インストーラーシステム概要

## プロジェクト概要
ScalarDB インストーラーは、ScalarDBを簡単にインストール・セットアップするためのクロスプラットフォーム対応ツールです。特に医療分野でのデータ管理システムのデモンストレーションを含む、包括的なソリューションを提供しています。

## システム構成

### 1. メインエントリーポイント
- **index.html**: システムのメインページ。OSごとのインストーラーへのリンクを提供
  - macOS用インストーラー
  - Windows用インストーラー
  - ScalarDBの説明ページ

### 2. ダッシュボードシステム

#### 2.1 テストダッシュボード
- **server.js**: Node.js/Expressで構築されたAPIサーバー
  - ポート: 3000
  - PostgreSQLデータベースに接続
  - 以下のAPIエンドポイントを提供：
    - `/api/health`: データベース接続状態チェック
    - `/api/tables`: テーブル一覧取得
    - `/api/customers`: 顧客データ取得
    - `/api/orders`: 注文データ取得
    - `/api/query`: カスタムSQLクエリ実行（SELECTのみ）
    - `/api/schema`: データベーススキーマ情報取得

- **dashboard.html**: ダッシュボードのフロントエンドUI
  - データベース接続状態の可視化
  - テーブル情報の表示
  - リアルタイムデータクエリ機能

#### 2.2 医療システムデモ
- **medical-server.js**: 医療システム用APIサーバー
  - ポート: 3001
  - 患者、医師、予約、診療記録の管理機能
  - RESTful APIエンドポイント：
    - `/api/patients`: 患者情報管理
    - `/api/doctors`: 医師情報管理
    - `/api/appointments`: 予約管理
    - `/api/records`: 診療記録管理
    - `/api/stats`: 統計情報取得

- **medical-app.html**: 医療システムのフロントエンドUI
  - 患者管理ダッシュボード
  - 予約スケジュール管理
  - 診療記録の表示・検索
  - 統計情報の可視化

#### 2.3 データベーススキーマ
- **structured_medical_data.sql**: 基本テーブル定義
  - `patients`: 患者情報（名前、生年月日、性別、連絡先）
  - `doctors`: 医師情報（名前、専門分野、連絡先）
  - サンプルデータ含む

- **unstructured_medical_data.sql**: リレーションテーブル定義
  - `medical_records`: 診療記録（患者ID、医師ID、診断、治療内容）
  - `appointments`: 予約情報（患者ID、医師ID、日時、ステータス）
  - 外部キー制約によるデータ整合性の確保

### 3. ScalarDB説明ページ
- **whyscalardb.html**: ScalarDBの特徴と利点を説明するインタラクティブページ
  - 従来のシステムとScalarDBの比較デモ
  - 医療システムにおける実用例
  - パフォーマンス比較
  - ROI計算ツール
  - 技術的な解説（CAPの定理、分散トランザクション等）

### 4. Windows用セットアップツール
- **fix-scalardb.ps1**: PowerShellスクリプト
  - Docker環境でPostgreSQLコンテナを自動セットアップ
  - データベーステーブルの作成
  - Node.js依存関係のインストール
  - サーバーの自動起動
  - 接続テストとトラブルシューティング機能

## 主要な技術スタック

### フロントエンド
- HTML5/CSS3
- JavaScript（バニラJS）
- レスポンシブデザイン
- グラデーション背景とモダンなUI

### バックエンド
- Node.js
- Express.js
- PostgreSQL（データベース）
- pg（PostgreSQLクライアント）
- CORS対応

### インフラストラクチャ
- Docker（PostgreSQLコンテナ）
- クロスプラットフォーム対応（macOS/Windows）

## システムの特徴

### 1. 分散トランザクション管理
ScalarDBは複数のデータベースにまたがるACIDトランザクションを実現し、従来のシステムでは困難だった以下の課題を解決します：
- データの一貫性保証
- 自動ロールバック機能
- 高可用性の実現
- ベンダーロックインの回避

### 2. 医療システムでの活用例
- **緊急手術シナリオ**: 患者情報、保険確認、手術室予約、在庫管理、請求処理を一つのトランザクションで処理
- **検査結果管理**: 検査結果の更新と関連する全システムへの自動反映
- **処方箋管理**: 複数の医療機関をまたぐ処方履歴の一元管理

### 3. パフォーマンスメリット
- トランザクション処理時間: 2.8秒 → 0.2秒（14倍高速）
- 障害率: 73% → 0.01%（7,300倍の信頼性向上）
- 開発効率: 90%のコード削減
- ダウンタイム: 90%削減

## セットアップ手順

### Windows環境
1. PowerShellを管理者として実行
2. `fix-scalardb.ps1`スクリプトを実行
3. 自動的に以下が実行されます：
   - Dockerコンテナの起動
   - データベースの初期化
   - Node.jsサーバーの起動
   - 接続テスト

### アクセスURL
- テストダッシュボード: http://localhost:3000
- 医療システムデモ: http://localhost:3001
- PostgreSQL: localhost:5432

## まとめ
ScalarDB インストーラーシステムは、分散データベース環境でのACIDトランザクションの実装を簡素化し、特に医療分野でのミッションクリティカルなアプリケーション開発を支援します。従来のアーキテクチャでは実現困難だった、複数システム間でのデータ整合性を保証しながら、高いパフォーマンスと可用性を実現します。